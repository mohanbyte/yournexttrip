<div class="search-container">
  @if (imageUrls[activeImgIndex]) {
  <img
    [src]="imageUrls[activeImgIndex]"
    [@fadeAnimation]
    class="search-background"
    alt=""
  />
  }
  <div class="search">
    <h1 class="text-white text-capitalize">
      {{ activeText[activeImgIndex] | uppercase }}
    </h1>
    <p class="text-white w-10">{{ subTexts[activeImgIndex] }}</p>
    <div class="search-bar">
      <i class="material-icons text-secondary">location_on</i>
      <input
        type="text"
        class="search-input"
        placeholder="Search for trips, destinations, or activities..."
      />
      <i class="material-icons text-secondary">search</i>
    </div>
    <a
      class="btn btn-primary border-secondary rounded-pill text-white py-3 px-5"
      href="upcomingtrips"
      >More Details</a
    >
  </div>
  <div class="search-results">
    <!-- Search results will be displayed here -->
  </div>
</div>
<div class="container-fluid py-5" style="background-color: #f4f8f2">
  <div class="container">
    <div class="row g-4 text-center justify-content-center">
      <!-- Instagram -->
      <div
        class="col-6 col-md-3 wow fadeInUp"
        data-wow-delay="0.1s"
        style="
          visibility: visible;
          animation-delay: 0.1s;
          animation-name: fadeInUp;
        "
      >
        <div class="p-3 rounded-4 bg-white shadow-sm h-100">
          <i class="fab fa-instagram fa-2x mb-2" style="color: #e1306c"></i>
          <p class="mb-1 fw-semibold text-dark">Instagram</p>
          <h6 class="fw-bold text-success">Join Our Community</h6>
        </div>
      </div>

      <!-- Google Reviews -->
      <div
        class="col-6 col-md-3 wow fadeInUp"
        data-wow-delay="0.2s"
        style="
          visibility: visible;
          animation-delay: 0.2s;
          animation-name: fadeInUp;
        "
      >
        <div class="p-3 rounded-4 bg-white shadow-sm h-100">
          <i class="fab fa-google fa-2x mb-2" style="color: #4285f4"></i>
          <p class="mb-1 fw-semibold text-dark">4.9</p>
          <h6 class="fw-bold text-success">Google Rated</h6>
        </div>
      </div>

      <!-- Itineraries -->
      <div
        class="col-6 col-md-3 wow fadeInUp"
        data-wow-delay="0.3s"
        style="
          visibility: visible;
          animation-delay: 0.3s;
          animation-name: fadeInUp;
        "
      >
        <div class="p-3 rounded-4 bg-white shadow-sm h-100">
          <i
            class="fas fa-map-marked-alt fa-2x mb-2"
            style="color: #ff7043"
          ></i>
          <p class="mb-1 fw-semibold text-dark">150+</p>
          <h6 class="fw-bold text-success">Itineraries</h6>
        </div>
      </div>

      <!-- Book Now & Pay Later -->
      <div
        class="col-6 col-md-3 wow fadeInUp"
        data-wow-delay="0.4s"
        style="
          visibility: visible;
          animation-delay: 0.4s;
          animation-name: fadeInUp;
        "
      >
        <div class="p-3 rounded-4 bg-white shadow-sm h-100">
          <i class="fas fa-wallet fa-2x mb-2" style="color: #6d4c41"></i>
          <p class="mb-1 fw-semibold text-dark">Book Now &amp;</p>
          <h6 class="fw-bold text-success">Pay Later</h6>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- TOur Packages-->
<div class="container mb-5">
  <div class="text-center mt-5 pb-3">
    <h6 class="text-primary text-uppercase" style="letter-spacing: 5px">
      Package
    </h6>
    <h1 class="mb-4 text-secondary">Popular Packages</h1>
  </div>
  <div class="row g-4">
    @for(city of cities; track city._cityId ; let idx = $index){ @if(
    city.tourCount ){

    <div
      [class.col-12]="idx == 0"
      class="col-sm-12 {{ idx != 0 ? 'col-md' : '' }}"
    >
      <div class="city-card-wrapper">
        <img
          [@fadeAnimation]
          [@zoomAnimation]
          [@slideInAnimation]
          [src]="getImageUrl(city.cityName)"
          [alt]="city.cityName + ' Tours'"
          class="city-image"
        />

        <div class="city-overlay">
          <h3 class="city-title">{{ city.cityName }}</h3>
          <span class="bg-warning text-dark fw-bold px-3 py-2 city-tours"
            >{{ city.tourCount }} Tours</span
          >
          <button
            class="btn btn-primary mt-5"
            (click)="navigateToCity(city.cityName)"
          >
            Explore Now
          </button>
        </div>
      </div>
    </div>

    } } @empty {
    <li>There are no items.</li>
    }
  </div>
</div>

<!-- Top Activities in Varanasi -->
<div class="container-fluid py-5" style="background-color: #f9f9f9">
  <div class="container">
    <div class="text-center mx-auto mb-5" style="max-width: 800px">
      <h1 class="display-5 text-primary mb-4">Top Activities in Varanasi</h1>
      <p class="mb-4 fs-5">
        Discover the ancient city of Varanasi, where spirituality, history, and
        culture come alive.
      </p>
    </div>
    @if(tours){
    <div class="row g-4">
      <!-- Package 1 - Varanasi Full Day City Tour – 1N 2D -->
      <!-- <div class="col-lg-4 col-md-6">
        <div class="package-item bg-white rounded shadow overflow-hidden">
          <div class="package-img position-relative">
            <img
              class="img-fluid w-100"
              [src]="getImageUrl('varanasi')"
              alt="Varanasi Full Day City Tour"
            />
            <div
              class="price-start position-absolute top-0 end-0 bg-primary px-3 py-2 rounded-bottom-start"
            >
              <small class="text-white">From</small>
              <h5 class="text-white mb-0">₹3,680</h5>
            </div>
          </div>
          <div class="p-4">
            <div class="d-flex justify-content-between mb-3">
              <small
                ><i class="fa fa-map-marker-alt text-primary me-2"></i
                >Varanasi</small
              >
              <small><i class="fa fa-clock text-primary me-2"></i>1N 2D</small>
              <small
                ><i class="fa fa-user text-primary me-2"></i>Skip the
                line</small
              >
            </div>
            <h4 class="mb-3">
              Explore the Spiritual Heart of India - Varanasi
            </h4>
            <p class="text-success fw-semibold mb-2">
              The sacred ghats, mesmerizing Ganga Aarti, and centuries-old
              temples.
            </p>
            <div class="d-flex justify-content-between">
              <a
                class="btn btn-sm btn-primary rounded-pill px-4"
                href="Varanasi-Full-Day-City-Tour-1N-2D.html"
                >Book Now</a
              >
              <a
                href="https://wa.me/918188007557?text=I'm%20interested%20in%20the%20Varanasi%201N%202D%20Tour%20for%20₹1,800"
                target="_blank"
                class="btn btn-sm btn-success rounded-pill px-4"
              >
                <i class="fab fa-whatsapp me-1"></i>WhatsApp
              </a>
            </div>
          </div>
        </div>
      </div>

      <div class="text-center mt-5">
        <a
          href="upcomingtrips.html"
          class="btn btn-primary btn-lg rounded-pill px-5 py-3"
          >View All Packages</a
        >
      </div> -->

      <div class="row g-4">
        @for (tour of tours; track $index; let index =$index) {

        <!-- Package 1 - Varanasi Full Day City Tour – 1N 2D -->
        <div class="col-sm-12 col-md" data-category="multi-day">
          <div
            class="package-item bg-white rounded shadow overflow-hidden h-100"
          >
            <div class="package-img position-relative">
              <img
                class="img-fluid w-100"
                [src]="getTourImageUrl('varanasi', index)"
                alt="Full Day City Tour"
              />
              <div
                class="price-start position-absolute top-0 end-0 bg-primary px-3 py-2 rounded-bottom-start"
              >
                <small class="text-white">From</small>
                <h5 class="text-white price mb-0">₹{{ tour.price }}</h5>
              </div>
              <div
                class="position-absolute bottom-0 start-0 bg-primary text-white px-3 py-1 rounded-top-end"
              >
                <small>Bestseller</small>
              </div>
            </div>
            <div class="p-4 d-flex flex-column h-100">
              <div class="d-flex justify-content-between mb-3">
                @for (tag of tour.tags; track $index; let idx = $index) { @if
                (idx<3) {
                <small
                  ><i class="fa fa-map-marker-alt text-primary me-2"></i
                  >{{ tag | titlecase }}</small
                >
                } }
              </div>
              <h4 class="mb-3">{{ tour.title }}</h4>
              <p class="text-success fw-semibold mb-2">
                {{ tour.description }}
              </p>
              <div class="mt-auto">
                <div
                  class="d-flex justify-content-between align-items-center mb-3"
                >
                  <div>
                    <span class="badge bg-light text-dark me-1"
                      ><i class="fa fa-star text-warning me-1"></i
                      >{{ tour.rating }}</span
                    >
                    <span class="badge bg-light text-dark"
                      ><i class="fa fa-users me-1"></i>Group Tour</span
                    >
                  </div>
                </div>
                <div class="d-flex justify-content-between">
                  <a
                    class="btn btn-sm btn-primary rounded-pill px-4"
                    href="Varanasi-Full-Day-City-Tour-1N-2D.html"
                    >Book Now</a
                  >
                  <a
                    href="https://wa.me/918188007557?text=I'm%20interested%20in%20the%20Varanasi%201N%202D%20Tour%20for%20₹3,680"
                    target="_blank"
                    class="btn btn-sm btn-success rounded-pill px-4"
                  >
                    <i class="fab fa-whatsapp me-1"></i>WhatsApp
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>

        }
      </div>
      <div class="text-center mt-5">
        <a
          href="upcomingtrips.html"
          class="btn btn-primary btn-lg rounded-pill px-5 py-3"
          >View All Packages</a
        >
      </div>
    </div>
    }
  </div>
</div>
